
import React from 'react'
import { RefreshCw, Folder } from '../icons'
type Item = { id:string; name:string; path:string; color:string; lastSync?:string }
export default function VaultList({ items, selectedId, onSelect, onSync, onOpenPath }:
  { items: Item[], selectedId: string|null, onSelect:(id:string)=>void, onSync:(v:any)=>void, onOpenPath:(id:string)=>void }){
  return (<div className="space-y-3">
    {items.map(v=> (<div key={v.id} className={`group rounded-xl border ${selectedId===v.id?'border-obs-accent/90':'border-obs-border/60'} bg-obs-panel/60 hover:border-obs-accent/80 p-3 cursor-pointer`} onClick={()=>onSelect(v.id)}>
      <div className="flex items-center justify-between gap-3">
        <div className="flex items-center gap-3 min-w-0">
          <div className="w-2 h-8 rounded shrink-0" style={{background:v.color}}/>
          <div className="min-w-0">
            <div className="font-semibold text-slate-200 truncate">{v.name||'Vault'}</div>
            <div className="text-xs text-slate-400/80 truncate">{v.path||'Pick a folder'}</div>
            {v.lastSync && <div className="text-[10px] text-slate-500 mt-1 truncate">Last sync: {new Date(v.lastSync).toLocaleString()}</div>}
          </div>
        </div>
        <div className="flex items-center gap-2 opacity-70 group-hover:opacity-100 shrink-0">
          <button title="Open folder" onClick={(e)=>{e.stopPropagation();onOpenPath(v.id)}} className="ghostIcon tool" data-tip="Open folder"><Folder className="w-4 h-4"/></button>
          <button title="Sync now" onClick={(e)=>{e.stopPropagation();onSync(v)}} className="ghostIcon tool" data-tip="Sync now"><RefreshCw className="w-4 h-4"/></button>
        </div>
      </div>
    </div>))}
  </div>)
}

